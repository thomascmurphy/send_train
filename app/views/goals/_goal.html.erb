<div class="col-md-3 col-sm-6 margin_bottom">
  <div class="panel<%= goal.panel_class %>">
    <div class="panel-heading">
      <h3 class="panel-title"><%= goal.label %></h3>
    </div>
    <div class="panel-body">
      <div class="build_donut"
           data-goal-name="<%= goal.label %>"
           data-goal-value="100"
           data-user-value="<%= goal.percent_complete %>"
           data-number-decorator="%"></div>
      Deadline: <%= goal.deadline.strftime('%m/%d/%Y') if goal.deadline.present? %>
      <% if goal.sub_goals.present? %>
        Subgoals:<br/>
        <ul>
          <% goal.sub_goals.each do |sub_goal| %>
            <%= render partial: 'goals/sub_goal', object: sub_goal, locals: {indent: 1, table_row: false} %>
          <% end %>
        </ul>
      <% end %>
    </div>
    <div class="panel-footer text-right">
      <% if show_buttons.present? %>
        <%= link_to "Edit", edit_goal_path(goal), remote: true, class: "btn btn-info" %>
        <%= link_to "Delete", goal_delete_path(goal), remote: true, class: "btn btn-danger" %>
      <% end %>
    </div>
  </div>
</div>
